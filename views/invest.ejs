<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/invest-style.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="icon" href="images/favicon1.png" type="image/png">

    <title>Invest</title>
</head>
<body>
    <div class="back"><a href="./hmpg.html"><i class="fa fa-chevron-left" aria-hidden="true"></i></a></div>
    <div class="form-wrapper">
        <div class="form-container">
            <form action="/invest" method="POST">
                <label for="User_Name">User Email</label><br>
                <input type="email" name="User_email" id="User_Name" required><br>
                <label for=" Company_Name">Company Name</label><br>
                <input type="text" name="Company_Name" id="Company_Name" required><br>
                <label for="doi">Date of Investment</label><br>
                <input type="date" name="DOI" id="doi"  required><br>
                <label for="trans_id ">Transaction ID</label><br>
                <input type="text" name="ti" id="trans_id" required><br>
                <label for="time">Time</label><br>
                <input type="time" name="time" id="time" required><br>
                <label for="vol">Volume</label><span id="msg"></span><br>
                <input type="text" name="vol" id="vol" required><br>
                <label for="buy_price">Buy Price</label><small id="msg2"></small><br>
                <input type="text" name="buy_price" id="buy_price" required><br>
                <button type="button" onclick="validate()">ADD</button><br>
                
            </form>
        </div>
        
    </div>
    <div class="Info">
        <table>
            <tr>
                <th>User Email</th>
                <th>Company Name</th>
                <th>Date of Investment</th>
                <th>Transaction ID</th>
                <th>Time</th>
                <th>Volume</th>
                <th>Buy Price</th>
                <th>Total Investment</th>
            </tr>
           
                <%InvestData.forEach(function(item){%>
                    <tr>
                        <td><%=item.User_email%></td>
                        <td><%=item.Company_name%></td>
                        <td><%=item.DOI%></td>
                        <td><%=item.TI%></td>
                        <td><%=item.Time%></td>
                        <td><%=item.Volume%></td>
                        <td><%=item.Buy_price%></td>
                        <td><%=item.TOI%></td>
                        
                    </tr>
                <%})%>
           
            
        </table>
        
    </div>
    <script>
        function validate()
        {
            var vol_input = document.getElementById("vol");
            var bp_input = document.getElementById("buy_price");
            var chk = /^[0-9]+$/;
            var res = false;
            if(vol_input.value.match(chk) && bp_input.value.match(chk))
            {
                res = true;
            }
            else
            {
                document.getElementById("msg").textContent = "Invalid Input."
                document.getElementById("msg").style.color = "red";           
            }
            
        }  
    </script>
</body>
</html>
